<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeLearn Pro - Interactive Programming Education</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .panel {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .panel h3 {
            color: #4a5568;
            margin-bottom: 15px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .code-editor {
            width: 100%;
            height: 300px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
            background: #f8fafc;
            transition: border-color 0.3s;
        }

        .code-editor:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .analysis-output {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            height: 300px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            white-space: pre-wrap;
        }

        .btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
            margin: 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #48bb78, #38a169);
        }

        .btn-warning {
            background: linear-gradient(135deg, #ed8936, #dd6b20);
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }

        .bottom-section {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
        }

        .exercise-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid #667eea;
            cursor: pointer;
            transition: all 0.3s;
        }

        .exercise-card:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .exercise-title {
            font-weight: 600;
            color: #4a5568;
            margin-bottom: 5px;
        }

        .exercise-desc {
            font-size: 0.9rem;
            color: #718096;
        }

        .difficulty {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-top: 5px;
        }

        .easy { background: #c6f6d5; color: #22543d; }
        .medium { background: #fed7aa; color: #9c4221; }
        .hard { background: #fed7d7; color: #742a2a; }

        .error { color: #e53e3e; }
        .warning { color: #d69e2e; }
        .success { color: #38a169; }
        .info { color: #3182ce; }

        .tutorial-step {
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }

        .step-number {
            background: #667eea;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 600;
            margin-right: 10px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .bottom-section {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ CodeLearn Pro</h1>
            <p>Master programming with AI-powered analysis and interactive learning</p>
        </div>

        <div class="main-content">
            <div class="panel">
                <h3>üíª Code Editor</h3>
                <textarea id="codeEditor" class="code-editor" placeholder="// Write your JavaScript code here
function greetUser(name) {
    if (name) {
        return 'Hello, ' + name + '!';
    } else {
        return 'Hello, World!';
    }
}

console.log(greetUser('Alice'));
console.log(greetUser());"></textarea>
                <div class="controls">
                    <button class="btn" onclick="analyzeCode()">üîç Analyze Code</button>
                    <button class="btn btn-secondary" onclick="runCode()">‚ñ∂Ô∏è Run Code</button>
                    <button class="btn btn-warning" onclick="debugCode()">üêõ Debug</button>
                </div>
            </div>

            <div class="panel">
                <h3>üìä Analysis & Output</h3>
                <div id="analysisOutput" class="analysis-output">Welcome to CodeLearn Pro! üéâ

Write some JavaScript code in the editor and click "Analyze Code" to get:
‚Ä¢ Syntax error detection
‚Ä¢ Code quality suggestions  
‚Ä¢ Performance recommendations
‚Ä¢ Best practice tips

Click "Run Code" to execute your code and see the output.
Click "Debug" for step-by-step debugging help.

Ready to start learning? Try the sample code or pick an exercise below!</div>
            </div>
        </div>

        <div class="bottom-section">
            <div class="panel">
                <h3>üìö Interactive Exercises</h3>
                <div id="exerciseList">
                    <div class="exercise-card" onclick="loadExercise('variables')">
                        <div class="exercise-title">Variables & Data Types</div>
                        <div class="exercise-desc">Learn to declare and use variables</div>
                        <span class="difficulty easy">Easy</span>
                    </div>
                    <div class="exercise-card" onclick="loadExercise('functions')">
                        <div class="exercise-title">Functions & Parameters</div>
                        <div class="exercise-desc">Create reusable code with functions</div>
                        <span class="difficulty easy">Easy</span>
                    </div>
                    <div class="exercise-card" onclick="loadExercise('loops')">
                        <div class="exercise-title">Loops & Iteration</div>
                        <div class="exercise-desc">Master for and while loops</div>
                        <span class="difficulty medium">Medium</span>
                    </div>
                    <div class="exercise-card" onclick="loadExercise('arrays')">
                        <div class="exercise-title">Arrays & Objects</div>
                        <div class="exercise-desc">Work with complex data structures</div>
                        <span class="difficulty medium">Medium</span>
                    </div>
                    <div class="exercise-card" onclick="loadExercise('async')">
                        <div class="exercise-title">Async Programming</div>
                        <div class="exercise-desc">Promises, async/await patterns</div>
                        <span class="difficulty hard">Hard</span>
                    </div>
                </div>
            </div>

            <div class="panel">
                <h3>üéØ Tutorial Progress</h3>
                <div class="progress-bar">
                    <div id="progressFill" class="progress-fill" style="width: 35%"></div>
                </div>
                <p style="text-align: center; margin: 10px 0; color: #718096;">35% Complete</p>
                
                <div id="tutorialSteps">
                    <div class="tutorial-step">
                        <span class="step-number">1</span>
                        <strong>JavaScript Basics</strong> ‚úÖ
                        <p style="margin-top: 5px; color: #718096;">Variables, functions, and basic syntax</p>
                    </div>
                    <div class="tutorial-step">
                        <span class="step-number">2</span>
                        <strong>Control Flow</strong> ‚úÖ
                        <p style="margin-top: 5px; color: #718096;">If statements and logical operators</p>
                    </div>
                    <div class="tutorial-step">
                        <span class="step-number">3</span>
                        <strong>Loops & Arrays</strong> üîÑ
                        <p style="margin-top: 5px; color: #718096;">Currently learning iteration patterns</p>
                    </div>
                    <div class="tutorial-step">
                        <span class="step-number">4</span>
                        <strong>Objects & Methods</strong> ‚è≥
                        <p style="margin-top: 5px; color: #718096;">Coming up next</p>
                    </div>
                </div>
            </div>

            <div class="panel">
                <h3>üõ†Ô∏è Learning Tools</h3>
                <div class="controls">
                    <button class="btn" onclick="generateExercise()">üé≤ Random Exercise</button>
                    <button class="btn btn-secondary" onclick="showHints()">üí° Get Hints</button>
                    <button class="btn btn-warning" onclick="explainConcept()">üìñ Explain Concept</button>
                </div>
                
                <div id="toolOutput" style="margin-top: 15px; padding: 15px; background: #f8fafc; border-radius: 8px; min-height: 100px;">
                    <p><strong>üéØ Learning Tools Ready!</strong></p>
                    <p style="margin-top: 10px;">‚Ä¢ <strong>Random Exercise:</strong> Get a new coding challenge</p>
                    <p>‚Ä¢ <strong>Get Hints:</strong> Stuck? Get helpful suggestions</p>
                    <p>‚Ä¢ <strong>Explain Concept:</strong> Deep dive into programming concepts</p>
                    <p style="margin-top: 10px; color: #718096;">Select a tool above to enhance your learning experience!</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentExercise = null;
        let hintsUsed = 0;

        function analyzeCode() {
            const code = document.getElementById('codeEditor').value;
            const output = document.getElementById('analysisOutput');
            
            if (!code.trim()) {
                output.innerHTML = '<span class="warning">‚ö†Ô∏è No code to analyze. Please write some JavaScript code first.</span>';
                return;
            }

            let analysis = 'üîç CODE ANALYSIS RESULTS\n' + '='.repeat(50) + '\n\n';
            
            // Syntax checking
            try {
                new Function(code);
                analysis += '<span class="success">‚úÖ SYNTAX CHECK: No syntax errors found!</span>\n\n';
            } catch (e) {
                analysis += `<span class="error">‚ùå SYNTAX ERROR: ${e.message}</span>\n\n`;
            }

            // Code quality analysis
            analysis += 'üìä CODE QUALITY ANALYSIS:\n';
            analysis += '-'.repeat(30) + '\n';

            // Check for common patterns
            if (code.includes('var ')) {
                analysis += '<span class="warning">‚ö†Ô∏è Consider using "let" or "const" instead of "var"</span>\n';
            }
            
            if (code.includes('==') && !code.includes('===')) {
                analysis += '<span class="warning">‚ö†Ô∏è Consider using "===" for strict equality</span>\n';
            }

            if (!code.includes('function') && !code.includes('=>')) {
                analysis += '<span class="info">üí° Try creating functions to organize your code</span>\n';
            }

            if (code.split('\n').length > 20) {
                analysis += '<span class="info">üí° Consider breaking long code into smaller functions</span>\n';
            }

            // Count complexity
            const functionCount = (code.match(/function/g) || []).length;
            const loopCount = (code.match(/for|while/g) || []).length;
            
            analysis += `\nüìà COMPLEXITY METRICS:\n`;
            analysis += `-`.repeat(20) + '\n';
            analysis += `Functions: ${functionCount}\n`;
            analysis += `Loops: ${loopCount}\n`;
            analysis += `Lines: ${code.split('\n').length}\n`;

            // Best practices
            analysis += '\nüéØ RECOMMENDATIONS:\n';
            analysis += '-'.repeat(20) + '\n';
            analysis += '‚Ä¢ Add comments to explain complex logic\n';
            analysis += '‚Ä¢ Use meaningful variable names\n';
            analysis += '‚Ä¢ Handle edge cases and errors\n';
            analysis += '‚Ä¢ Consider code reusability\n';

            output.innerHTML = analysis;
        }

        function runCode() {
            const code = document.getElementById('codeEditor').value;
            const output = document.getElementById('analysisOutput');
            
            if (!code.trim()) {
                output.innerHTML = '<span class="warning">‚ö†Ô∏è No code to run. Please write some JavaScript code first.</span>';
                return;
            }

            let result = '‚ñ∂Ô∏è CODE EXECUTION RESULTS\n' + '='.repeat(50) + '\n\n';
            
            // Capture console.log output
            const originalLog = console.log;
            let logs = [];
            console.log = (...args) => {
                logs.push(args.join(' '));
            };

            try {
                // Execute the code
                eval(code);
                
                if (logs.length > 0) {
                    result += '<span class="success">üì§ CONSOLE OUTPUT:</span>\n';
                    result += '-'.repeat(20) + '\n';
                    logs.forEach(log => {
                        result += `${log}\n`;
                    });
                } else {
                    result += '<span class="info">‚ÑπÔ∏è Code executed successfully (no console output)</span>\n';
                }
                
                result += '\n<span class="success">‚úÖ Execution completed without errors!</span>';
                
            } catch (error) {
                result += `<span class="error">‚ùå RUNTIME ERROR:</span>\n`;
                result += `${error.message}\n\n`;
                result += '<span class="info">üí° Debug suggestions:</span>\n';
                result += '‚Ä¢ Check variable names and spelling\n';
                result += '‚Ä¢ Verify function calls and parameters\n';
                result += '‚Ä¢ Look for missing brackets or semicolons\n';
            } finally {
                console.log = originalLog;
            }

            output.innerHTML = result;
        }

        function debugCode() {
            const code = document.getElementById('codeEditor').value;
            const output = document.getElementById('analysisOutput');
            
            let debug = 'üêõ DEBUGGING ASSISTANT\n' + '='.repeat(50) + '\n\n';
            
            if (!code.trim()) {
                debug += '<span class="warning">‚ö†Ô∏è No code to debug. Write some code first!</span>';
                output.innerHTML = debug;
                return;
            }

            debug += 'üîç STEP-BY-STEP DEBUGGING:\n';
            debug += '-'.repeat(30) + '\n\n';

            // Analyze code structure
            const lines = code.split('\n').filter(line => line.trim());
            
            debug += `1. Code has ${lines.length} non-empty lines\n`;
            debug += `2. Checking for common issues...\n\n`;

            // Check for common debugging points
            if (code.includes('undefined')) {
                debug += '<span class="warning">‚ö†Ô∏è Found "undefined" - check variable initialization</span>\n';
            }

            if (code.includes('null')) {
                debug += '<span class="info">‚ÑπÔ∏è Found "null" values - verify object properties</span>\n';
            }

            const openBrackets = (code.match(/\{/g) || []).length;
            const closeBrackets = (code.match(/\}/g) || []).length;
            
            if (openBrackets !== closeBrackets) {
                debug += '<span class="error">‚ùå Mismatched brackets detected!</span>\n';
            }

            debug += '\nüéØ DEBUGGING CHECKLIST:\n';
            debug += '-'.repeat(25) + '\n';
            debug += '‚ñ° Are all variables declared before use?\n';
            debug += '‚ñ° Do function calls match function definitions?\n';
            debug += '‚ñ° Are brackets and parentheses balanced?\n';
            debug += '‚ñ° Are string quotes properly closed?\n';
            debug += '‚ñ° Are array indices within bounds?\n';
            debug += '‚ñ° Are object properties spelled correctly?\n';

            debug += '\nüí° DEBUGGING TIPS:\n';
            debug += '-'.repeat(18) + '\n';
            debug += '‚Ä¢ Add console.log() statements to track values\n';
            debug += '‚Ä¢ Use browser developer tools (F12)\n';
            debug += '‚Ä¢ Test functions with simple inputs first\n';
            debug += '‚Ä¢ Break complex code into smaller parts\n';

            output.innerHTML = debug;
        }

        function loadExercise(type) {
            const editor = document.getElementById('codeEditor');
            const exercises = {
                variables: `// Exercise: Variables & Data Types
// Create variables for a user profile

// TODO: Create variables for:
// 1. userName (string)
// 2. userAge (number) 
// 3. isStudent (boolean)
// 4. hobbies (array)

// Your code here:


// Test your variables:
console.log('Name:', userName);
console.log('Age:', userAge);
console.log('Student:', isStudent);
console.log('Hobbies:', hobbies);`,

                functions: `// Exercise: Functions & Parameters
// Create a calculator function

// TODO: Create a function called 'calculate' that:
// 1. Takes three parameters: num1, num2, operation
// 2. Supports +, -, *, / operations
// 3. Returns the result

// Your function here:


// Test your function:
console.log(calculate(10, 5, '+'));  // Should return 15
console.log(calculate(10, 5, '-'));  // Should return 5
console.log(calculate(10, 5, '*'));  // Should return 50
console.log(calculate(10, 5, '/'));  // Should return 2`,

                loops: `// Exercise: Loops & Iteration
// Create a number pattern generator

// TODO: Create a function called 'generatePattern' that:
// 1. Takes a number 'n' as parameter
// 2. Uses a loop to create a pattern like: 1, 2, 3, ..., n
// 3. Returns an array with the pattern

// Your function here:


// Test your function:
console.log(generatePattern(5));   // Should return [1, 2, 3, 4, 5]
console.log(generatePattern(3));   // Should return [1, 2, 3]`,

                arrays: `// Exercise: Arrays & Objects
// Create a student management system

// TODO: Create an array called 'students' with objects containing:
// - name (string)
// - grade (number)
// - subjects (array)

// Then create a function 'findTopStudent' that returns the student with highest grade

// Your code here:


// Test your code:
console.log('All students:', students);
console.log('Top student:', findTopStudent());`,

                async: `// Exercise: Async Programming
// Create a simulated API call

// TODO: Create an async function called 'fetchUserData' that:
// 1. Simulates an API delay using setTimeout
// 2. Returns user data after 2 seconds
// 3. Use async/await pattern

// Your function here:


// Test your function:
fetchUserData().then(data => {
    console.log('User data received:', data);
});`
            };

            if (exercises[type]) {
                editor.value = exercises[type];
                currentExercise = type;
                
                // Update tool output
                const toolOutput = document.getElementById('toolOutput');
                toolOutput.innerHTML = `
                    <p><strong>üìö Exercise Loaded: ${type.charAt(0).toUpperCase() + type.slice(1)}</strong></p>
                    <p style="margin-top: 10px;">Complete the TODO items in the code editor, then click "Run Code" to test your solution!</p>
                    <p style="margin-top: 5px; color: #718096;">Need help? Click "Get Hints" for guidance.</p>
                `;
            }
        }

        function generateExercise() {
            const exercises = [
                {
                    title: "FizzBuzz Challenge",
                    code: `// Generate FizzBuzz for numbers 1-20
// Print "Fizz" for multiples of 3, "Buzz" for multiples of 5, "FizzBuzz" for both

// Your solution here:`
                },
                {
                    title: "Palindrome Checker",
                    code: `// Create a function to check if a word is a palindrome
// Example: "racecar" should return true

function isPalindrome(word) {
    // Your code here
}

console.log(isPalindrome("racecar"));
console.log(isPalindrome("hello"));`
                },
                {
                    title: "Array Sum Calculator",
                    code: `// Calculate the sum of all numbers in an array
// Handle nested arrays too!

function sumArray(arr) {
    // Your code here
}

console.log(sumArray([1, 2, 3, 4]));        // Should return 10
console.log(sumArray([1, [2, 3], 4]));      // Should return 10`
                }
            ];

            const randomExercise = exercises[Math.floor(Math.random() * exercises.length)];
            document.getElementById('codeEditor').value = randomExercise.code;
            
            const toolOutput = document.getElementById('toolOutput');
            toolOutput.innerHTML = `
                <p><strong>üé≤ Random Exercise: ${randomExercise.title}</strong></p>
                <p style="margin-top: 10px;">A new challenge has been loaded in the code editor. Give it a try!</p>
                <p style="margin-top: 5px; color: #718096;">Click "Analyze Code" when you're done to check your solution.</p>
            `;
        }

        function showHints() {
            const toolOutput = document.getElementById('toolOutput');
            hintsUsed++;
            
            const hints = [
                "üí° Break complex problems into smaller steps",
                "üí° Use console.log() to debug and track variable values",
                "üí° Read error messages carefully - they often tell you exactly what's wrong",
                "üí° Test your functions with simple inputs first",
                "üí° Use meaningful variable names to make code self-documenting",
                "üí° Don't forget to handle edge cases (empty arrays, null values, etc.)",
                "üí° Use the browser's developer tools (F12) for advanced debugging"
            ];

            const randomHint = hints[Math.floor(Math.random() * hints.length)];
            
            toolOutput.innerHTML = `
                <p><strong>üí° Coding Hint #${hintsUsed}</strong></p>
                <p style="margin-top: 10px; font-size: 1.1rem;">${randomHint}</p>
                <p style="margin-top: 10px; color: #718096;">Keep practicing! Every expert was once a beginner.</p>
            `;
        }

        function explainConcept() {
            const concepts = [
                {
                    title: "Variables & Scope",
                    explanation: "Variables store data values. Use 'let' for changeable values, 'const' for constants. Scope determines where variables can be accessed - global scope is everywhere, function scope is within functions only."
                },
                {
                    title: "Functions",
                    explanation: "Functions are reusable blocks of code. They can take parameters (inputs) and return values (outputs). Use functions to avoid repeating code and organize your program logically."
                },
                {
                    title: "Arrays & Objects",
                    explanation: "Arrays store multiple values in order [1,2,3]. Objects store key-value pairs {name: 'John', age: 25}. Both are essential for managing complex data in your programs."
                },
                {
                    title: "Loops",
                    explanation: "Loops repeat code multiple times. 'for' loops are great when you know how many times to repeat. 'while' loops continue until a condition becomes false. Use loops to process arrays and repeat tasks."
                }
            ];

            const randomConcept = concepts[Math.floor(Math.random() * concepts.length)];
            
            const toolOutput = document.getElementById('toolOutput');
            toolOutput.innerHTML = `
                <p><strong>üìñ Concept Explanation: ${randomConcept.title}</strong></p>
                <p style="margin-top: 15px; line-height: 1.6;">${randomConcept.explanation}</p>
                <p style="margin-top: 15px; color: #718096;">Try implementing this concept in the code editor above!</p>
            `;
        }

        // Initialize with sample code
        document.getElementById('codeEditor').value = `// Welcome to CodeLearn Pro! üöÄ
// Try this sample function:

function greetUser(name) {
    if (name) {
        return 'Hello, ' + name + '!';
    } else {
        return 'Hello, World!';
    }
}

console.log(greetUser('Alice'));
console.log(greetUser());

// Click "Analyze Code" or "Run Code" to see it in action!`;
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97e52e7763e79f49',t:'MTc1Nzc0MDY4MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
